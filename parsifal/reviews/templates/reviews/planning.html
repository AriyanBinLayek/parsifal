{% extends 'base_app.html' %}

{% block head_extra %}
  <link href="{{ STATIC_URL }}css/review.css" rel="stylesheet" media="screen">
  <link href="{{ STATIC_URL }}css/planning.css" rel="stylesheet" media="screen">
  <script type="text/javascript" src="{{ STATIC_URL }}js/planning.js"></script>
{% endblock head_extra %}

{% block content %}
  <input type="hidden" id="review-id" value="{{ review.id }}">
  <ul class="review-menu">
    <li><a href="/{{ review.user.username }}/{{ review.short_name }}/">{{ review.short_name }}</a></li>
    <li class="active"><a href="/{{ review.user.username }}/{{ review.short_name }}/planning/">Planning</a></li>
    <li><a href="/{{ review.user.username }}/{{ review.short_name }}/conducting/">Conducting</a></li>
    <li><a href="/{{ review.user.username }}/{{ review.short_name }}/reporting/">Reporting</a></li>
  </ul>
  <button type="button" class="btn btn-success pull-right">Save Planning</button>
  <h1>{{ review.title }}</h1>
  <form method="post" action="." class="form-block">
    {% csrf_token %}
    <div class="form-row">
      <h2>Objectives</h2>
      <textarea rows="5"></textarea>
    </div>
  </form>
  <hr>
  <h2>Questions</h2>
  <form method="post" action="." class="form-block">
    {% csrf_token %}
    <div class="form-row">
      <div class="label-container">
        <label for="">Main Question</label>
      </div>
      <div class="input-container">
        <textarea rows="2"></textarea>
      </div>
    </div>
    <div class="form-row">
      <div class="label-container">
        <label for="population">Population</label>
      </div>
      <div class="input-container">
        <input type="text" id="population" name="population" placeholder="">
      </div>
    </div>
    <div class="form-row">
      <div class="label-container">
        <label for="">Intervention</label>
      </div>
      <div class="input-container">
        <input type="text" id="" name="" placeholder="">
      </div>
    </div>
    <div class="form-row">
      <div class="label-container">
        <label for="">Comparison</label>
      </div>
      <div class="input-container">
        <input type="text" id="" name="" placeholder="">
      </div>
    </div>
    <div class="form-row">
      <div class="label-container">
        <label for="">Outcome</label>
      </div>
      <div class="input-container">
        <input type="text" id="" name="" placeholder="">
      </div>
    </div>
  </form>

  <hr>
  
  <h2>Sources</h2>
  
  <div class="modal" id="modal-suggested-sources">
    <div class="modal-header">
      <a href="#" class="close" onclick="$(this).closest('div.modal').slideUp();return false;">Ã—</a>
      <h2>Suggested Sources</h2>
    </div>
    <div class="modal-body">
      <form>
        <label class="checkbox"><input type="checkbox">Scopus</label>
        <label class="checkbox"><input type="checkbox">ACM</label>
        <label class="checkbox"><input type="checkbox">Science@Direct</label>
      </form>
    </div>
    <div class="modal-footer">
      <button type="button" class="btn btn-success">Save</button>
      <button type="button" class="btn btn-warning">Cancel</button>
    </div>
  </div>

  <button type="button" class="btn btn-success btn-small" id="btn-add-source">Add Source</button>
  <button type="button" class="btn btn-link btn-small" style="margin-left: 8px;" id="btn-suggested-sources">(Suggested Sources)</button>
  <table class="table" id="tbl-sources">
    <thead>
      <tr>
        <th>Name</th>
        <th>URL</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      {% for source in review.sources.all %}
        <tr>
          <td>{{ source.name }}</td>
          <td>{{ source.url }}</td>
          <td><button type="button" class="btn btn-small">edit</button> <button type="button" class="btn btn-warning btn-small btn-remove-source">remove</a></td>
        </tr>
      {% endfor %}
    </tbody>
  </table>
{% endblock content %}